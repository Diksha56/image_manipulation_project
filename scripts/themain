import cv2
import numpy as np
import matplotlib.pyplot as plt
import os

input_path = "../original_images/img.jpg"       
output_folder = "../output_images/"                

os.makedirs(output_folder, exist_ok=True)

image = cv2.imread(input_path)

if image is None:
    raise ValueError("Image not found. Check the path and filename.")

gray_image = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)

plt.imshow(gray_image, cmap='gray')
plt.title("Grayscale Image")
plt.axis("off")
plt.show()

cv2.imwrite(os.path.join(output_folder, "grayscale.jpg"), gray_image)

cropped_image = image[100:300, 200:400]

cv2.imwrite(os.path.join(output_folder, "cropped.jpg"), cropped_image)

(h, w) = image.shape[:2]
center = (w // 2, h // 2)

rotation_matrix = cv2.getRotationMatrix2D(center, 45, 1.0)

rotated_image = cv2.warpAffine(image, rotation_matrix, (w, h))

cv2.imwrite(os.path.join(output_folder, "rotated.jpg"), rotated_image)

brightness_matrix = np.ones(image.shape, dtype="uint8") * 50
bright_image = cv2.add(image, brightness_matrix)

cv2.imwrite(os.path.join(output_folder, "brightened.jpg"), bright_image)

print("All processed images saved successfully!")